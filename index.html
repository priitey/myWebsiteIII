<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>prw.studio</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main role="main">
      <menu id="menu-desktop" class="desktop">
        <div id="info-wrapper" class="">
          <section id="titles">
            <span id="ack"
              ><button
                id="ack-button"
                class="button"
                type="button"
                data-text="I acknowledge the people of the Woi wurrung and Boon wurrung language groups of the eastern Kulin Nation on whose unceded lands I work and live. I recognise that sovereignty was never ceded and that this Country belongs to First Nation peoples."
                data-glitch="1"
                data-order="sequential"
              >
                ACKNOWLEDGEMENT
              </button>
            </span>
            <span id="about"
              ><button
                id="about-button"
                class="button"
                type="button"
                data-text="Hello! I'm Peter; this is my communication design and creative coding studio practice. I feel most at home as the bricoleur; cobbling together multimedia technologies to create novel tools/systems. I live in Naarm/Melbourne, Australia but I work remotely for people near and far. Please reach out with your ideas; let's collaborate!"
                data-glitch="2"
                data-order="spots"
              >
                WHO?
              </button>
            </span>
            <span id="explain"
              ><button
                id="explain-button"
                class="button"
                type="button"
                data-text="This website has been designed to cut to the chase. Use the toggle boxes at the bottom of the page to adjust which projects are brought into focus. Click on a project to see more information and detailed documentation. If you would like a pdf version of my portfolio that is customised to the toggle settings, press the button down below."
                data-glitch="3"
                data-order="spiral"
              >
                WHAT?
              </button>
            </span>
            <span id="friends"
              ><button
                id="friends-button"
                class="button"
                type="button"
              >
                FRIENDS
              </button>
              <span id="insta"
              ><button
                id="insta-button"
                class="button"
                type="button"
              >
                <a id="insta" href="https://www.instagram.com/3_d_12/">INSTA</a>
              </button>
              <span id="mail"
              ><button
                id="mail-button"
                class="button"
                type="button"
              >
                <a id="email" href="mailto:hello@prw.studio">EMAIL</a>
              </button>
            </span>
          </section>
          <span id="titles-copy"><!-- Animated copy goes here injected by JS--></span>
        </div>

        <div id="ctls-wrapper">
          <section id="titles">
            <span id="specialities" class=""
              ><button
                id="specialities-button"
                class="button"
                type="button"
                data-tag="spec"
              >
                SPECIALITIES
              </button>
            </span>
            <span id="tools"
              ><button
                id="tools-button"
                class="button"
                type="button"
                data-tag="tool"
              >
                TOOLS
              </button>
            </span>
            <span id="aesthetics"
              ><button
                id="aesthetics-button"
                class="button"
                type="button"
                data-tag="aest"
              >
                AESTHETICS
              </button>
            </span>
          </section>

          <section id="tag-wrapper">
            <div id="specialty-tags" class="tag-container hidden" data-tag="spec">
              Speciality tags loading...
            </div>

            <div id="tool-tags" class="tag-container hidden" data-tag="tool">
              Tool tags loading...
            </div>

            <div id="aesthetic-tags" class="tag-container hidden" data-tag="aest">
              Aesthetic tags loading...
            </div>
          </section>
        </div>
      </menu>

      <menu id="menu-mobile" class="mobile hidden"></menu>

      <section id="prj-canvas">
        <ol id="projects">
          <li class="labels">
            <span class="project-deets">TITLE</span>
            <span class="project-deets">SPECIALITIES</span>
            <span class="project-deets">TOOLS</span>
            <span class="project-deets">AESTHETICS</span>
          </li>
          Projects loading...
          <!-- Projects and their data inserted here from https://prw-studio-cms.vercel.app/api/projects -->
        </ol>
      </section>
    </main>

    <section id="prj-info">
      <div id="static-items">
        <button id="close" class="button">‚Æê</button>
        <div id="txt-img">
          <h2 id="info-title">Loading...</h2>
          <h4 id="info-tags">Loading...</h4>
          <h4 id="info-blurb">Loading...</h4>
          <div id="gallery">Gallery loading...</div>
        </div>
      </div>
      <!-- floating insights to be inserted dynamically here-->
    </section>

    <div id="floaty-img-wrapper">
      <img id="floaty-img" src="">
    </div>

    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/SplitText.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/Draggable.min.js"></script>

    <script type="text/javascript" src="cms.js"></script>
    <script type="text/javascript" src="copyAnim.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const info = document.getElementById('prj-info');
        const close = document.getElementById('close');
        
        // Create a drag handle
        const dragHandle = document.createElement('div');
        dragHandle.style.cssText = `
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 30px;
          background: rgba(11, 11, 11, 0.04);
          cursor: move;
          z-index: 1;
          margin-bottom: 0.2rem;
        `;
        
        // Insert the drag handle at the beginning of prj-info
        info.insertBefore(dragHandle, info.firstChild);
        
        // Only make the drag handle draggable, not the entire element
        Draggable.create("#prj-info", {
          type: "x,y",
          bounds: "body",
          handle: dragHandle
        });
        
        close.addEventListener("click", () => {
          info.style.display = "none";
        });
      });
    </script>
  </body>
</html>
